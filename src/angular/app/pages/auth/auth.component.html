<div class="container authWrapper">
  <div class="row">
    <div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
      <div class="card border-0 shadow rounded-3 my-5">
        <!-- login / register / forgot password -->
        <div *ngIf="!showVerifiedMailNotice" class="card-body p-4 p-sm-5">
          <h5 class="card-title text-center mb-5 fw-light fs-5">Sign In</h5>
          <app-auth-form [formType]="formType" [hiddenSubmit]="hiddenSubmit" (emitForm)="onSubmit($event)"></app-auth-form>

          <div class="d-grid">
            <button *ngIf="formType === 'login'" class="btn btn-primary" (click)="onSwitchMode('register')" type="button">Switch to Sign Up</button>
            <button *ngIf="formType !== 'login'" class="btn btn-primary" (click)="onSwitchMode('login')" type="button">Switch to Sign In </button>
            <button *ngIf="formType === 'login'"class="btn btn-primary" (click)="onSwitchMode('forgotPassword')" type="button">forgot password?</button>
          </div>
          <div *ngIf="['login', 'register'].includes(formType)">
            <hr class="my-4">
            <div class="d-grid mb-2">
              <button class="btn btn-google btn-login text-uppercase fw-bold" type="submit">
                <i class="fab fa-google me-2"></i> Sign in with Google
              </button>
            </div>
            <div class="d-grid">
              <button class="btn btn-facebook btn-login text-uppercase fw-bold" type="submit">
                <i class="fab fa-facebook-f me-2"></i> Sign in with Facebook
              </button>
            </div>
          </div>

        </div>

        <!-- notice -->
        <div *ngIf="showVerifiedMailNotice" class="card-body p-4 p-sm-5">
          <div class="d-grid">
            <p>Verification email has sent, please check the email and click the link in the email to verify it. If you have not received yet, please click the resend button to resend it</p>
            <div *ngIf="resendMailCount >= 3" class="invalid-feedback">You have resent the mail three times, please try again later.</div>
            <button *ngIf="resendMailCount < 3"  class="btn btn-primary" (click)="resendMail()" type="button">Resend</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
